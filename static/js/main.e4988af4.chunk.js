(this.webpackJsonpnotes=this.webpackJsonpnotes||[]).push([[0],{75:function(e,t,a){e.exports=a(88)},85:function(e,t,a){},88:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),o=a(9),c=a.n(o),r=a(19),i=a(13),d=function(e){return{type:"ADD_NOTE",payload:e}},u=function(e){return{type:"DELETE_NOTE",payload:e}},s=function(e){return{type:"LOAD_NOTE",payload:e}},m=(a(85),a(59)),E=a.n(m),p=function(){return{id:E()(),title:"",body:"",create_date:new Date,modified_date:null,locked:!1}},f=a(113),y=a(116),b=a(117),O=a(118),h=a(63),g=a(140),L=a(120),j=a(119),v=Object(i.b)()((function(e){var t=Object(n.useState)(!1),a=Object(r.a)(t,2),o=a[0],c=a[1];return l.a.createElement("header",null,l.a.createElement(f.a,null,l.a.createElement(y.a,null,l.a.createElement(b.a,null,"Main Menu"),l.a.createElement("span",{style:{flex:1}}),l.a.createElement(O.a,{onClick:function(e){c(e.currentTarget)},"aria-controls":"mainmenu",edge:"end",color:"inherit"},l.a.createElement(j.a,null)),l.a.createElement(h.a,{id:"mainmenu",anchorEl:o,open:Boolean(o),onClose:function(){c(null)}},l.a.createElement(g.a,{onClick:function(){c(null);var t=p();e.dispatch(d(t)),e.dispatch(s(t.id)),e.dispatch({type:"TOGGLE_VIEWER"})}},"New note")))),l.a.createElement(L.a,{style:{marginTop:"6rem"}},l.a.createElement(b.a,{align:"center",variant:"h1"},"Notes"),l.a.createElement(b.a,{align:"center",variant:"subtitle1",color:"textSecondary",style:{fontStyle:"italic"}},'"Either write something worth reading or do something worth writing."',l.a.createElement("span",{style:{display:"block"}},"Benjamin Franklin"))))})),k=a(121),_=a(122),T=a(123),D=a(124),w=a(125),S=a(137),C=a(126),N=a(127),I=a(29),V=a.n(I),G=Object(i.b)((function(e){return{notes:e.notes}}))((function(e){var t=e.data,a=t.id,n=t.title,o=t.create_date,c=t.modified_date,r=t.body,i=function(){e.dispatch(s(e.data.id)),e.dispatch({type:"TOGGLE_VIEWER"})};return l.a.createElement(k.a,{item:!0,xs:12,md:6},l.a.createElement(_.a,null,l.a.createElement(T.a,{onClick:i},l.a.createElement(D.a,null,l.a.createElement(b.a,{variant:"h4",variantMapping:{h4:"h2"}},n),l.a.createElement(b.a,{variant:"caption",color:"textSecondary",display:"inline"},"".concat(V()(o).format("D MMMM")," ").concat(new Date(o).getFullYear()===(new Date).getFullYear()?"":o.getFullYear()," ").concat(V()(o).format("HH:mm")))," ",l.a.createElement(b.a,{variant:"caption",color:"textSecondary",display:"inline"},c?l.a.createElement("em",null,"(Modified ",V()(c).fromNow(),")"):null),l.a.createElement(w.a,null),l.a.createElement(S.a,{mt:2},l.a.createElement(b.a,{variant:"body1"},r.length>50?r.substr(0,50)+"...":r)))),l.a.createElement(w.a,null),l.a.createElement(C.a,null,l.a.createElement(N.a,{color:"primary",onClick:i},"View / Edit"),l.a.createElement(N.a,{color:"secondary",onClick:function(){e.dispatch(u(a))}},"Delete"))))})),x=Object(i.b)((function(e){return{notes:e.notes,isOpen:e.isViewerOpen}}))((function(e){var t=Object(n.useState)(null),a=Object(r.a)(t,2),o=a[0],c=a[1];Object(n.useEffect)((function(){e.isOpen||c(e.notes)}),[e]);return l.a.createElement(L.a,null,l.a.createElement(k.a,{container:!0,spacing:4,alignItems:"center"},o&&o.length>0?o.map((function(e){return l.a.createElement(G,{key:e.id,data:e})})):l.a.createElement(S.a,{align:"center",width:"1",p:5},l.a.createElement(b.a,null,"You don't have any notes yet..."),l.a.createElement(S.a,{m:1},l.a.createElement(N.a,{color:"secondary",variant:"contained",onClick:function(){var t=p();e.dispatch(d(t)),e.dispatch(s(t.id)),e.dispatch({type:"TOGGLE_VIEWER"})}},"Add Note")))))})),M=a(48),W=a(17),A=a(139),F=a(135),Y=a(128),R=a(129),B=a(130),H=a(131),J=Object(i.b)((function(e){return{isOpen:e.isViewerOpen,noteLoaded:e.noteLoaded,notes:e.notes}}))((function(e){var t=Object(n.useState)(0),a=Object(r.a)(t,2),o=a[0],c=a[1],i=Object(n.useState)({title:"",body:"",locked:!1}),d=Object(r.a)(i,2),m=d[0],E=d[1],p=function(){clearTimeout(o),h(),e.dispatch({type:"TOGGLE_VIEWER"})},h=function(){e.noteLoaded.title===m.title&&e.noteLoaded.body===m.body&&e.noteLoaded.locked===m.locked||e.dispatch({type:"UPDATE_NOTE",payload:Object(W.a)({},e.noteLoaded,{title:m.title,body:m.body,locked:m.locked,modified_date:new Date})})},g=function(e){m.locked||E(Object(W.a)({},m,Object(M.a)({},e.target.getAttribute("id"),e.target.value)))};return Object(n.useEffect)((function(){e.noteLoaded&&E({title:e.noteLoaded.title,body:e.noteLoaded.body,locked:e.noteLoaded.locked})}),[e.noteLoaded]),Object(n.useEffect)((function(){if(!e.isOpen&&e.noteLoaded){var t=e.noteLoaded.id;e.dispatch(s(null)),0===m.title.length&&0===m.body.length&&e.dispatch(u(t))}}),[e.isOpen]),Object(n.useEffect)((function(){e.noteLoaded&&(clearTimeout(o),c(setTimeout((function(){h()}),5e3)))}),[m]),e.noteLoaded?l.a.createElement(A.a,{open:e.isOpen,fullScreen:!0,transitionDuration:500},l.a.createElement(f.a,null,l.a.createElement(y.a,null,l.a.createElement(O.a,{color:"inherit",edge:"start",onClick:p},l.a.createElement(Y.a,null)),l.a.createElement(b.a,{onClick:p},"Back to main menu"),l.a.createElement("span",{style:{flex:1}}),l.a.createElement(O.a,{color:"inherit",onClick:function(){E(Object(W.a)({},m,{locked:!m.locked}))}},m.locked?l.a.createElement(R.a,null):l.a.createElement(B.a,null)),l.a.createElement(O.a,{color:"inherit",onClick:function(){var t=e.noteLoaded.id;e.dispatch({type:"TOGGLE_VIEWER"}),e.dispatch(s(null)),e.dispatch(u(t))},edge:"end"},l.a.createElement(H.a,null)))),l.a.createElement(L.a,{style:{marginTop:"6rem"}},l.a.createElement(F.a,{fullWidth:!0,multiline:!0,placeholder:"Title",id:"title",defaultValue:e.noteLoaded.title,autoFocus:0===e.noteLoaded.title.length,InputProps:{disableUnderline:0!==m.title.length,style:{fontSize:"3rem",fontWeight:300}},onChange:g,value:m.title}),l.a.createElement(b.a,{variant:"subtitle1",color:"textSecondary",gutterBottom:!0},"".concat(V()(e.noteLoaded.create_date).format("D MMMM")," ").concat(new Date(e.noteLoaded.create_date).getFullYear()===(new Date).getFullYear()?"":e.noteLoaded.create_date.getFullYear()," ").concat(V()(e.noteLoaded.create_date).format("HH:mm"))),l.a.createElement(F.a,{fullWidth:!0,multiline:!0,placeholder:"Write your note here...",id:"body",defaultValue:e.noteLoaded.body,value:m.body,onChange:g,InputProps:{disableUnderline:0!==m.body.length,style:{fontSize:"1rem",fontWeight:400,lineHeight:1.5}}}))):null})),P=function(){return l.a.createElement("main",{style:{margin:"2rem 0"}},l.a.createElement(x,null),l.a.createElement(J,null))},U=function(){return l.a.createElement("footer",null,l.a.createElement(L.a,null,l.a.createElement(b.a,{align:"center",color:"textSecondary",display:"block",variant:"overline"},"\xa9 2020"," ",2020===(new Date).getFullYear()?null:" - ".concat((new Date).getFullYear()," "),"David Andrews"))," ")},z=a(132),K=a(133),q=Object(i.b)()((function(e){return l.a.createElement(z.a,{color:"secondary",style:{position:"fixed",right:"3rem",bottom:"3rem"},onClick:function(){var t=p();e.dispatch(d(t)),e.dispatch(s(t.id)),e.dispatch({type:"TOGGLE_VIEWER"})}},l.a.createElement(K.a,null))})),Q=a(134),X=function(){return l.a.createElement(A.a,{fullScreen:!0,open:!0,transitionDuration:{enter:0,exit:500},disableEscapeKeyDown:!0,disableBackdropClick:!0},l.a.createElement(S.a,{width:"100%",height:"100%",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",pb:3},l.a.createElement(Q.a,{size:80}),l.a.createElement(S.a,{display:"block",pt:1},l.a.createElement(b.a,null,"Loading notes..."))))};var Z=Object(i.b)((function(e){return{notes:e.notes}}))((function(e){var t=Object(n.useState)(!0),a=Object(r.a)(t,2),o=a[0],c=a[1];return Object(n.useEffect)((function(){if(localStorage.getItem("daves_notes_app")){var t=JSON.parse(localStorage.getItem("daves_notes_app")).filter((function(e){return e.title.length>0&&e.body.length>0?e:null}));e.dispatch(function(e){return{type:"LOAD_NOTES",payload:e}}(t)),setTimeout((function(){c(!1)}),500)}else c(!1)}),[]),Object(n.useEffect)((function(){localStorage.setItem("daves_notes_app",JSON.stringify(e.notes))}),[e.notes]),l.a.createElement(l.a.Fragment,null,o?l.a.createElement(X,null):null,l.a.createElement(v,null),l.a.createElement(P,null),l.a.createElement(U,null),l.a.createElement(q,null))})),$=a(42),ee={isViewerOpen:!1,noteLoaded:null,notes:[]},te=Object($.b)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ee,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOAD_NOTES":return Object(W.a)({},e,{notes:t.payload});case"ADD_NOTE":return Object(W.a)({},e,{notes:e.notes.concat([t.payload])});case"LOAD_NOTE":return Object(W.a)({},e,{noteLoaded:e.notes.filter((function(e){return e.id===t.payload?e:null}))[0]});case"DELETE_NOTE":return Object(W.a)({},e,{notes:e.notes.filter((function(e){return e.id!==t.payload?e:null}))});case"UPDATE_NOTE":return Object(W.a)({},e,{notes:e.notes.map((function(e){return e.id===t.payload.id?t.payload:e}))});case"TOGGLE_VIEWER":return Object(W.a)({},e,{isViewerOpen:!e.isViewerOpen});default:return e}}));c.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(i.a,{store:te},l.a.createElement(Z,null))),document.getElementById("root"))}},[[75,1,2]]]);
//# sourceMappingURL=main.e4988af4.chunk.js.map